/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var l=void 0,p=!0,s=null,t=!1;function aa(){return function(a){return a}}function B(){return function(){}}function C(a){return function(b){this[a]=b}}function Q(a){return function(){return this[a]}}function R(a){return function(){return a}}var S;function ba(a,b){0==a.indexOf("dvt.")&&(a=a.substring(4));var c=a.split("."),d=eval("dvt");!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==l?d[e]=b:d=d[e]?d[e]:d[e]={}}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function b(a,b,c,d,e,f){this.Init(a,b,c,d,e,f)}function c(a,b){this.Init(a,b)}function d(a){this.Init(a.g(),a.Gf,a);this.Yc=a}function e(){this.Init({skyros:e.sj,alta:e.vf,next:e.Mz})}function f(a){this.Yc=a;this.fg=this.Yc.v()}a.nf=B();a.j.u(a.nf,a.Ne);a.nf.newInstance=function(b,c,d){var e=new a.nf;e.Init(b,c,d);return e};a.nf.aq=function(a){return(new e).aq(a)};a.nf.prototype.Init=function(b,c,f){a.nf.q.Init.call(this,b,c,f);this.setId("legend1000"+Math.floor(1E9*Math.random()));this.Bh=
new e;this.Ra=new d(this);this.Ra.Gg(this);this.av=[];this.Ew=[];this.ve=s;this.zoa=[]};a.nf.prototype.Mf=function(a){a?(this.T=this.Bh.an(a),this.hKa(this.T.sections)):this.T||(this.T=this.sE())};a.nf.prototype.cs=function(b,c,d){this.Mf(b);this.v().isLayout=p;b=h.va(this,new a.U(0,0,c,d));this.v().isLayout=t;return new a.$j(b.a,b.b)};a.nf.prototype.va=function(b,d,e){this.Mf(b);!isNaN(d)&&!isNaN(e)&&(this.Ab=d,this.Lb=e);this.v().isLayout=t;this.Em();this.av=[];this.Ew=[];this.ve=s;this.zoa=[];
a.o.Ta()||this.Ra.ss(new c(this.Ra,this));this.vr();this.Kia=h.va(this,new a.U(0,0,this.Ab,this.Lb));(b=this.v().highlightedCategories)&&0<b.length&&this.Le(b);return this.Kia};a.nf.prototype.Le=function(b){this.v().highlightedCategories=b&&0<b.length?b.slice():s;a.Tg.Le(b,this.av,p)};a.nf.prototype.Gf=function(a,b){var c=a.type;if("categoryHighlight"==c&&"dim"==this.v().hoverBehavior){var d=this.av;this!=b&&this.Le(a.categories);for(var e=0;e<d.length;e++)if(d[e].getId()==a.categories){this.ZKa.scrollIntoView(d[e].Ue()[0]);
break}}(this==b||"adfShowPopup"==c||"adfHidePopup"==c)&&this.dispatchEvent(a)};a.nf.prototype.Ua=Q("Ra");a.nf.prototype.uha=function(b){if(b.Ue()[0]instanceof a.aa)this.Ew.push(b);else{var c=this.v().hideAndShowBehavior;(b.vg()!=s||b.Hg()!=s||b.Ij()||"none"!=c&&"off"!=c)&&this.Ew.push(b);this.av.push(b)}};a.nf.prototype.qa=function(){this.Ra&&(this.Ra.bl(this),this.Ra.qa(),this.Ra=s);a.nf.q.qa.call(this)};a.nf.prototype.vha=C("ve");a.nf.prototype.D_a=function(a){this.zoa.push(a)};a.nf.prototype.mi=
function(){return new f(this)};a.nf.prototype.eK=function(){return this.Ra!=s?this.Ra.Ze():s};a.nf.prototype.fca=function(a,b){if(this.Ra!=s){for(var c=this.Ew,d=0;d<c.length;d++)if(c[d].getId()==a.getId()){this.Ra.rs(c[d]);b&&c[d].Uf();break}if(c=this.eK())d=c.Ue()[0],d.Bd("label",c.Id()),this.g().bH(d)}};a.nf.prototype.V=function(b){var c=new a.U(0,0,this.Ab,this.Lb);return!b||b===this?c:this.Ki(c,b)};a.nf.prototype.cB=function(a){return!a||a===this?this.Kia:this.Ki(this.Kia,a)};a.nf.prototype.Jm=
function(){return a.D.na(a.D.Ka,"LEGEND")};a.nf.prototype.hKa=function(b){if(b&&!(0>=b.length))for(var c=this.v().hiddenCategories,d=0;d<b.length;d++){var e=b[d];e.sections&&(c=this.hKa(e.sections));if((e=e.items)&&!(0>=e.length))for(var f=0;f<e.length;f++){var u=e[f],v=h.gaa(u);"hidden"==u.categoryVisibility&&0>a.fa.nb(c,v)&&c.push(v);u.categoryVisibility=s}}};a.nf.prototype.vr=function(){if(this.O3()){var b=this.v(),c=b.hideAndShowBehavior;if("off"!=c&&"none"!=c||"dim"==b.hoverBehavior)this.g().Sf("application"),
this.g().S1(a.D.na(a.D.Ka,"COLON_SEP_LIST",[a.D.na(a.D.Ka,"DATA_VISUALIZATION"),a.Nd.XG(this.Jm())]))}};a.nf.prototype.QG=function(){return 0<this.Ew.length};a.j.u(f,a.Wd);f.prototype.Ko=function(a){if((a=this.Yc.Ua().eb(a))&&a instanceof b)if(a=a.getData(),a=this.qEa(a,this.fg))return"section"+a;return s};f.prototype.qEa=function(a,b){if(b.sections&&0<b.sections.length){for(var c=0;c<b.sections.length;c++){if(b.sections[c]==a)return"["+c+"]";var d=this.qEa(a,b.sections[c]);if(d)return"["+c+"]"+d}return s}if(b.items&&
0<b.items.length){for(c=0;c<b.items.length;c++)if(b.items[c]==a)return":item["+c+"]";return s}};f.prototype.EMa=function(a,b){if(b.sections&&0<b.sections.length){for(var c=0;c<b.sections.length;c++){var d=this.EMa(a,b.sections[c]);if(d)return"["+c+"]"+d}return s}if(b.items&&0<b.items.length){for(c=0;c<b.items.length;c++)if(b.items[c].text==a.name)return":item["+c+"]";return s}};f.prototype.lqa=function(a,b){var c=b.indexOf("["),d=b.indexOf("]");if(0<=c&&0<=d){var c=b.substring(c+1,d),e=b.indexOf(":");
b=b.substring(d+1);d=b.indexOf("]");return 0<=b.indexOf("[")&&0<=d?this.lqa(a.sections[c],b):0==e?a.items[c]:a.sections[c]}};f.prototype.oi=function(b){if(b==a.Wd.iC)return this.wE(this.Yc);b=this.lqa(this.fg,b);for(var c=this.Yc.av,d=0;d<c.length;d++){var e=c[d].getData();if(b==e)return c[d].Ue()[0].ib()}return s};f.prototype.oB=function(){return this.fg.title};f.prototype.getItem=function(a){for(var b,c=a.shift(),d=this.fg;c!=l;)0<a.length?d=d.sections[c]:b=d.items[c],c=a.shift();return b?{text:b.text?
b.text:s}:s};f.prototype.eeb=function(a){for(var b,c=a.shift(),d=this.fg;c!=l;)0<a.length?d=d.sections[c]:b=d.sections[c],c=a.shift();return{title:b.title?b.title:s,items:b.items?this.UDa(b.items):s,sections:b.sections?this.XDa(b.sections):s}};f.prototype.UDa=function(a){for(var b=[],c=0;c<a.length;c++)b.push({text:a[c].text});return b};f.prototype.XDa=function(a){for(var b=[],c=0;c<a.length;c++)b.push({title:a[c].title?a[c].title:s,items:a[c].items?this.UDa(a[c].items):s,sections:a[c].sections?this.XDa(a[c].sections):
s});return b};a.j.u(e,a.Ya);e.Mz={skin:a.e.Mz,titleStyle:new a.e("color: #737373;"),_sectionTitleStyle:new a.e("color: #737373;"),layout:{titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24}};e.vf={skin:a.e.vf,textStyle:new a.e(a.Ya.im),titleStyle:new a.e(a.Ya.lL+"color: #333333;"),_sectionTitleStyle:new a.e(a.Ya.lL+"color: #333333;")};e.sj={skin:a.e.og,orientation:"vertical",position:s,backgroundColor:s,borderColor:s,textStyle:new a.e(a.Ya.Cs+
"font-size: 11px; color: #333333;"),titleStyle:new a.e(a.Ya.Cs+"font-size: 12px; color: #003d5b;"),titleHalign:"start",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:8,titleGapHeight:3,symbolGapWidth:5,symbolGapHeight:4,rowGap:0,columnGap:8,sectionGapHeight:6,sectionGapWidth:15},isLayout:t};
e.wh=function(b,c){var d=Math.min(a.Aa.ez(b.g(),b.v().textStyle)/14,1);return Math.ceil(c*d)};a.j.u(d,a.K);d.prototype.qj=function(a){d.q.qj.call(this,a);var b=this.eb(a.target);if(b){var c=this.osa(b),b=this.cra(b,a);(c||b)&&a.stopPropagation()}};d.prototype.Nx=function(b){d.q.Nx.call(this,b);if(b=this.eb(b.target)){var c=b instanceof a.Rh?b.Nq:s;c&&(c.isCollapsible&&c.button)&&c.button.f0();this.jC(b)}};d.prototype.Wn=function(b){d.q.Wn.call(this,b);if(b=this.eb(b.target))(b=b instanceof a.Rh?b.Nq:
s)&&(b.isCollapsible&&b.button)&&b.button.GD()};d.prototype.Pv=function(a){var b=this.eb(a.target);if(b){a=a.dta;var c=this.osa(b),b=this.cra(b,event);(c||b)&&a&&a.preventDefault()}};d.prototype.osa=function(b){var c=this.Yc.v().hideAndShowBehavior;if("none"==c||"off"==c)return t;var d=b.ze?b.ze():s;if(!d||0>=d.length)return t;for(var e=b.ze()[0],c=this.Yc.v().hiddenCategories||[],c=c.slice(),f=b.Ue(),u=0;u<f.length;u++){var v=f[u];v instanceof a.pa?v.zP(b.yc()):v instanceof a.ka&&b.gta()}b=d[0];
h.cba(e,this.Yc)?(c.splice(a.fa.nb(c,e),1),b=a.Wa.ugb(b,c)):(c.push(e),b=a.Wa.tgb(b,c));this.Yc.v().hiddenCategories=c;this.Ek(b,this.Yc);return p};d.prototype.cra=function(c,d){if(c&&c.Hg&&c.Hg())return this.Ek(a.Wa.VG("action",c.Hg(),c.getId()),this.Yc),p;if(c instanceof b&&c.Ij()){var e=c.getId();this.Ek(a.Wa.wba(e,e,s),this.Yc);return p}return(e=c instanceof a.Rh?c.Nq:s)&&e.isCollapsible?(this.gQa(d,e.id),p):t};d.prototype.Cp=function(b,c,d){b=this.Yc.v();"none"==b.hoverBehavior||c.Ue&&c.Ue()[0]instanceof
a.aa||(c=c.ze?c.ze():[],b.highlightedCategories=d?c.slice():s,d=a.Wa.WG(b.highlightedCategories,d),b=a.Qa.hs(b.hoverBehaviorDelay),this.RH.Gf(d,this.Yc.av,b,p))};d.prototype.Tra=function(a,b){var c=b.getId();this.gQa(a,c)};d.prototype.gQa=function(b,c){for(var d=this.Yc.v(),e=0;e<c.length;e++)d=d.sections[c[e]];d.expanded="off"==d.expanded?"on":"off";b.type==a.ra.Fe&&(d=this.eb(this.ae(b)),d.pe&&this.rs(d.pe(b)));e=(d=this.Yc.eK())?d.Qd():t;this.Yc.va();d&&this.Yc.fca(d,e);this.je();d=this.Yc.cB();
this.Ek(new a.Om(d.a,d.b,d.x,d.y),this.Yc)};d.prototype.Gz=function(){return this.Yc.v()._isScrollingLegend?a.K.OE:a.K.Tx};a.j.u(c,a.Db);c.prototype.Init=function(a,b){c.q.Init.call(this,a);this.Yc=b};c.prototype.Ak=function(b){var d=b.keyCode,e=this.Ra.Ze(),f=e&&e.Ue()[0]instanceof a.aa,h=s;e==s&&d==a.G.Sh?(d=this.Yc.Ew,0<d.length&&(a.K.sc(b),h=this.ZJ(d))):e&&(d==a.G.Sh?(a.K.sc(b),h=e):d==a.G.wi||d==a.G.xi?(d==a.G.wi&&this.Ra.cra(e,b),f?this.Ra.Tra(b,e.Ue()[0]):this.Ra.osa(e),a.K.sc(b)):f&&(d==
a.G.lg||d==a.G.ng)?(this.Ra.Tra(b,e.Ue()[0]),a.K.sc(b)):h=c.q.Ak.call(this,b));h&&this.Yc.ZKa.scrollIntoView(h.Ue()[0]);return h};a.j.u(b,a.j);b.prototype.Init=function(a,b,c,d,e,f){this.Yc=a;this.qg=b;this.lo=c;this.pc=(this.rM=h.gaa(this.lo))?this.rM:c.title;this.xq=c.action;this.lw=f;this.q9a=c._spb;this.ml=d;this.M6=e;this.dd=t;if(this.xq||this.lw)for(a=0;a<this.qg.length;a++)this.qg[a].setCursor("pointer")};b.jb=function(a,c,d,e,f,h){if(!a||!d)return s;d=new b(c,a,d,e,f,h);c.uha(d);for(e=0;e<
a.length;e++)c.Ua().jb(a[e],d);return d};b.prototype.getData=Q("lo");b.prototype.yc=function(){return this.lo.color};b.prototype.getId=Q("pc");b.prototype.Ue=Q("qg");b.prototype.ze=function(){return this.rM!=s?[this.rM]:s};b.prototype.Hg=Q("xq");b.prototype.Ij=Q("lw");b.prototype.ff=Q("q9a");b.prototype.Id=function(){var b=[],c=this.Yc.v(),d=this.Yc.v().hideAndShowBehavior,e=h.cba(this.rM,this.Yc),f=this.getData();if(this.qg[0]instanceof a.aa)return b.push(a.D.na(a.D.Ka,"off"==f.expanded?"STATE_COLLAPSED":
"STATE_EXPANDED")),a.ja.uk(f.title,b);"off"!=d&&"none"!=d&&b.push(a.D.na(a.D.Ka,e?"STATE_HIDDEN":"STATE_VISIBLE"));this.Ij()&&b.push(a.D.ah(c,"stateDrillable",a.D.Ka,"STATE_DRILLABLE"));return f.shortDesc!=s?a.ja.uk(f.shortDesc,b):0<b.length?a.ja.uk(f.text,b):s};b.prototype.gta=function(){!a.o.Gi()&&this.qg[0]&&this.qg[0].Bd("label",this.Id())};b.prototype.pe=function(b){return b.type==a.ra.Fe?this:a.Db.pe(this,b,this.Yc.Ew,p)};b.prototype.Ig=function(b){return this.qg[0]?this.qg[0].V(b):new a.U(0,
0,0,0)};b.prototype.Cm=function(){return this.qg[0]?this.qg[0].ib():s};b.prototype.Uf=function(){this.dd=p;this.qg[0]&&(this.qg[0]instanceof a.aa?this.qg[0].f0():this.qg[0].Jb(a.o.$pa()))};b.prototype.Od=function(){this.dd=t;this.qg[0]&&(this.qg[0]instanceof a.aa?this.qg[0].GD():this.qg[0].xa(s))};b.prototype.Qd=Q("dd");b.prototype.ti=Q("ml");b.prototype.vg=Q("M6");b.prototype.ql=function(){return this.lo.color};var h={};a.j.u(h,a.j);h.Oga=2;h.kAa=0.6;h.Oza=10;h.Ik=12;h.nX=2;h.va=function(b,c){var d=
b.v(),f=b.g(),r=a.o.$(f);d.isLayout||h.Jy(b,c);var u=new a.jh(f,c.a,c.b),v=new a.ca(f);u.ya.k(v);b.k(u);b.ZKa=u;var y=e.wh(b,d.layout.outerGapWidth),x=e.wh(b,d.layout.outerGapHeight);c.x+=y;c.y+=x;c.a-=2*y;c.b-=2*x;b.vha(c);if(0>=c.a||0>=c.b)return new a.$j(0,0);f=h.W7a(b,v,new a.U(c.x,c.y,c.a,c.b));if(0==f.a||0==f.b)return new a.$j(0,0);u.N1();f.b>c.b?(f.b=c.b,d._isScrollingLegend=p):d._isScrollingLegend=t;var z=u=0,A=d.hAlign!=s?d.hAlign:d.halign;"center"==A?u=c.x-f.x+(c.a-f.a)/2:"end"==A&&(u=r?
c.x-f.x:c.x-f.x+c.a-f.a);r=d.vAlign!=s?d.vAlign:d.valign;"middle"==r?z=c.y-f.y+(c.b-f.b)/2:"bottom"==r&&(z=c.y-f.y+c.b-f.b);r=new a.U(f.x+u-y,f.y+z-x,f.a+2*y,f.b+2*x);if(d.isLayout)return r;(u||z)&&v.Ga(u,z);d=b.zoa;for(v=0;v<d.length;v++)a.Tn.align(f,d[v].Teb,d[v].text,d[v].text.Qc().a);return r};h.W7a=function(a,b,c){var d=a.v();c=c.Ca();var f=h.WN(a,b,d.title,c,s,p);if(f){var u=f.Qc(),v=e.wh(a,d.layout.titleGapHeight);c.y+=u.b+v;c.b-=Math.floor(u.b+v)}a=h.VIa(a,b,d.sections,c,[]);return f?u.Hj(a):
a};h.Jy=function(b,c){var d=b.v(),e=d.backgroundColor,d=d.borderColor;if(e||d){var f=new a.ka(b.g(),c.x,c.y,c.a,c.b);e?f.fb(e):f.gc();d&&(f.Jb(d),f.Cd());b.k(f)}};h.WN=function(b,c,d,e,f,h,v,y){var x=b.v(),z=c.g(),A=a.o.$(z);if(!d)return s;d=new a.ba(z,d,e.x,e.y);z=x.titleStyle;f&&f.titleStyle?z=new a.e(f.titleStyle):f&&x._sectionTitleStyle&&(z=x._sectionTitleStyle);d.Cb(z);return a.Aa.sd(d,e.a,Infinity,c)?(A&&d.Ia(e.x+e.a-d.Qc().a),x.isLayout?c.removeChild(d):(c={id:v,button:y},c.isCollapsible=f&&
("on"==f.collapsible||f.collapsible==p),b.Ua().jb(d,new a.Rh(d.js(),s,s,c)),h&&b.D_a({text:d,Teb:f&&f.titleHalign?f.titleHalign:x.titleHalign})),d):s};h.VIa=function(b,c,d,f,r){var u=b.v();u.symbolWidth==s&&u.symbolHeight==s?(u.symbolWidth=h.Oza,u.symbolHeight=h.Oza):(u.symbolWidth==s?u.symbolWidth=u.symbolHeight:u.symbolHeight==s&&(u.symbolHeight=u.symbolWidth),u.symbolWidth=parseInt(u.symbolWidth),u.symbolHeight=parseInt(u.symbolHeight));for(var v=e.wh(b,u.layout.sectionGapHeight),y=e.wh(b,u.layout.titleGapHeight),
x=e.wh(b,u.layout.sectionGapWidth),z=h.t4a(b),u="vertical"!=u.orientation,A=s,D=f.Ca(),G,K=0;K<d.length;K++){var I=r.concat([K]),L="off"==d[K].expanded||d[K].expanded==t?y:v;u?(G=h.MIa(b,c,d[K],D,z),G.a>D.a?(D.a<f.a&&(f.y+=G.b+L,f.b-=G.b+L),G=G.a<=f.a?h.MIa(b,c,d[K],f,z):h.YIa(b,c,d[K],f,z,I,p),f.y+=G.b+L,f.b-=G.b+L,D=f.Ca()):(D.a-=G.a+x,a.o.$(b.g())||(D.x+=G.a+x))):(G=h.YIa(b,c,d[K],f,z,I,t),f.y+=G.b+L,f.b-=G.b+L);A=A?A.Hj(G):G}return A};h.R1a=function(c,d,e,f,r,u,v,y,x,z,A){var D=h.Sia(c,f,r+"Enabled",
u,v),G=h.Sia(c,f,r+"Over",u,v);f=h.Sia(c,f,r+"Down",u,v);c=new a.aa(c,D,G,f,s,x,z,A);d=b.jb([c],d,e,y,s,t);c.Sf("button");d.gta();return c};h.Sia=function(b,c,d,e,f){var u=a.o.$(b)?"RTL":"";b=new a.yb(b,c[d+u]?c[d+u]:c[d],e,f,h.Ik,h.Ik);b.gc();return b};h.YIa=function(b,c,d,f,r,u,v){if(d){var y=b.v(),x=e.wh(b,y.layout.symbolGapWidth),z=e.wh(b,y.layout.rowGap),A=e.wh(b,y.layout.columnGap),D=b.g(),G=a.o.$(D);f=f.Ca();"off"!=y.scrolling&&(f.b=Infinity);var K,I="on"==d.collapsible||d.collapsible==p,L;
if(I){K=G?f.x+f.a-h.Ik:f.x;if(!y.isLayout){var M="off"==d.expanded||d.expanded==t;L=M?"closed":"open";var M=a.D.na(a.D.Ka,M?"EXPAND":"COLLAPSE",s),E=b.Ua();L=h.R1a(D,b,d,y._resources,L,K,f.y,M,u,E.Tra,E);c.k(L)}K=new a.U(K,f.y,h.Ik,h.Ik);D=e.wh(b,y.layout.symbolGapWidth);G||(f.x+=h.Ik+D);f.a-=h.Ik+D}D=(D=h.WN(b,c,d.title,f,d,!I&&1>=u.length,u,L))?D.Qc():new a.U(G?f.x+f.a:f.x,f.y,0,0);D=K?D.Hj(K):D;if(!d.items&&!d.sections||"off"==d.expanded||d.expanded==t)return D;0<D.b&&(I=e.wh(b,y.layout.titleGapHeight),
f.y+=D.b+I,f.b-=D.b+I);d.sections&&(u=h.VIa(b,c,d.sections,f,u),D=D.Hj(u));if(!d.items)return D;I=h.g1a(b,f,r,d.items,v);v=I.numCols;u=I.numRows;I=I.width;K=f.y;if(0==u||0==v)return D;L=u*(r+z)-z;M=Math.min(v*(I+A)-A,f.a);D=D.Hj(new a.U(G?f.x+f.a-M:f.x,f.y,M,L));if(y.isLayout)return D;y=I-y.symbolWidth-x;x=0;L=1;M=d.items.length;for(E=0;E<M&&!(h.gY(b,c,d.items[E],f,y,r,E),f.y+=r+z,x++,x===u&&L!==v&&(f.y=K,f.a-=I+A,G||(f.x+=I+A),x=0,L++),x===u);E++);return D}};h.MIa=function(b,c,d,f,r){if(d){var u=
b.v(),v=u.symbolWidth,y=e.wh(b,u.layout.symbolGapWidth),x=e.wh(b,u.layout.columnGap),z=e.wh(b,u.layout.titleGapWidth),A=d.items.length,D=a.o.$(b.g()),G=f.Ca(),K=h.WN(b,c,d.title,f,d,t),I=K?K.Qc():new a.U(D?f.x+f.a:f.x,f.y,0,0);if(d.items)0<I.a&&(G.a-=I.a+z,D||(G.x+=I.a+z));else return I;var z=[],L=f.a-G.a,M,E;for(E=0;E<A;E++)M=d.items[E],M=Math.ceil(a.Aa.Naa(b.g(),M.text,u.textStyle)),L+=M+v+y+x,z.push(M);0<A&&(L-=x);I=new a.U(D?f.x+f.a-L:f.x,f.y,L,Math.max(r,I.b));if(u.isLayout||L>f.a)return c.removeChild(K),
I;for(E=0;E<A;E++)M=d.items[E],h.gY(b,c,M,G,z[E],r,E),f=z[E]+v+y,G.a-=f+x,D||(G.x+=f+x);return I}};h.g1a=function(b,c,d,f,h){for(var u=b.v(),v=0,y=0;y<f.length;y++){var x=a.Aa.Naa(b.g(),f[y].text,u.textStyle);x>v&&(v=x)}var y=u.symbolWidth,z=e.wh(b,u.layout.symbolGapWidth),x=e.wh(b,u.layout.rowGap);b=e.wh(b,u.layout.columnGap);v=Math.ceil(y+z+v);h?(h=Math.min(Math.floor((c.a+b)/(v+b)),f.length),d=Math.min(Math.floor((c.b+x)/(d+x)),Math.ceil(f.length/h)),h=Math.ceil(f.length/d),d=Math.ceil(f.length/
h)):Infinity==c.b?(h=1,d=f.length):(d=Math.min(Math.floor((c.b+x)/(d+x)),f.length),h=Math.ceil(f.length/d),d=Math.ceil(f.length/h));c=Math.min(v,(c.a-b*(h-1))/h);return c<y?{width:0,numCols:0,numRows:0}:{width:c,numCols:h,numRows:d}};h.t4a=function(b){var c=b.v(),d=new a.ba(b.g(),"Test");d.Cb(c.textStyle);d.Kh();d=a.Aa.yk(d).b;b=c.symbolHeight+e.wh(b,c.layout.symbolGapHeight);return Math.ceil(Math.max(d,b))};h.gY=function(c,d,f,q,r,u){var v=c.v(),y=c.g(),x=a.o.$(y),z=v.symbolWidth,A=e.wh(c,v.layout.symbolGapWidth),
D=x?q.x+q.a-z:q.x,G=x?q.x+q.a-z-A:q.x+z+A,K=h.a2a(c,D,q.y,u,f),I=f.text,L;if(I&&(L=h.b2a(d,r,I,v.textStyle)))L.Ia(G),a.Aa.b0(L,q.y+u/2),x&&L.sk();d.k(K);q=new a.ka(y,x?G-r-h.nX:D-h.nX,q.y-h.nX,z+A+r+2*h.nX,u+2*h.nX);q.gc();v=v.hideAndShowBehavior;"none"!=v&&"off"!=v&&q.setCursor("pointer");d.k(q);d=[q,K];L!=s&&d.push(L);L=b.jb(d,c,f,L!=s?L.js():s,f.shortDesc,h.C5a(c,f));h.cba(h.gaa(f),c)&&K.zP(L.yc());if("none"!=v&&"off"!=v||f.shortDesc!=s)q.Sf("img"),L.gta()};h.C5a=function(a,b){return"on"==b.drilling?
p:"off"==b.drilling?t:"on"==a.v().drilling};h.b2a=function(b,c,d,e){d=new a.ba(b.g(),d);d.Cb(e);return d=a.Aa.sd(d,c,Infinity,b)?d:s};h.a2a=function(a,b,c,d,e){var f=a.v(),v=e.type!=s?e.type:e.symbolType;e.markerShape||(e.markerShape=f._markerShape);e.color||(e.color=f._color);e.lineWidth||(e.lineWidth="lineWithMarker"==v?h.Oga:f._lineWidth);var y=f.symbolWidth,f=f.symbolHeight,x=c+d/2,z=b+y/2;"line"==v?b=h.JCa(a.g(),b,c,y,d,e):"lineWithMarker"==v?(b=h.JCa(a.g(),b,c,y,d,e),h.cba(h.gaa(e),a)||b.k(h.wM(a,
z,x,y*h.kAa,f*h.kAa,e))):b="image"==v?h.Uia(a,b,c,y,f,d,e):h.wM(a,z,x,y,f,e);return b};h.Uia=function(b,c,d,e,f,h,v){return new a.Kf(b.g(),c+e/2,d+h/2,e,f,s,v.source)};h.wM=function(b,c,d,e,f,h){var v=b.g(),y=b.v();b=h.markerShape;var x=h.markerColor?h.markerColor:h.color,z=h.pattern;z&&"none"!=z?(e=new a.pa(v,b,y.skin,0,0,e,f),e.ga(new a.mc(z,x,"#FFFFFF")),e.Ga(c,d)):(e=new a.pa(v,b,y.skin,c,d,e,f),e.fb(x));h.borderColor&&e.Jb(h.borderColor,s,h._borderWidth?h._borderWidth:1);"square"==b&&e.Cd();
return e};h.JCa=function(b,c,d,e,f,h){d+=f/2;b=new a.Vc(b,c,d,c+e,d);c=new a.ua(h.color,1,h.lineWidth);h=h.lineStyle;"dashed"==h?c.Nn(a.Rc.Ow(h),"4,2,4"):"dotted"==h&&c.Nn(a.Rc.Ow(h),"2");b.xa(c);b.Cd();return b};h.gaa=function(a){var b=s;return b=a.categories&&0<a.categories.length?a.categories[0]:a.id?a.id:a.text};h.cba=function(b,c){var d=c.v().hiddenCategories;return!d||0>=d.length?t:-1!==a.fa.nb(d,b)};a.Bb(a,"Legend",a.nf);a.Bb(a.nf,"newInstance",a.nf.newInstance);a.Bb(a.nf.prototype,"destroy",
a.nf.prototype.qa);a.Bb(a.nf.prototype,"getAutomation",a.nf.prototype.mi);a.Bb(a.nf.prototype,"getPreferredSize",a.nf.prototype.cs);a.Bb(a.nf.prototype,"highlight",a.nf.prototype.Le);a.Bb(a.nf.prototype,"render",a.nf.prototype.va);a.Bb(f.prototype,"getDomElementForSubId",f.prototype.oi);a.Bb(f.prototype,"getItem",f.prototype.getItem);a.Bb(f.prototype,"getSection",f.prototype.eeb);a.Bb(f.prototype,"getTitle",f.prototype.oB)})(dvt);
  return dvt;
});
